<% layout('layouts/boilerplate') %>

<h1>Edit your info</h1>
<div class="container">
  <form action="/users?_method=PUT" method="POST">
    <div class="row">
      <div class="input-group col mb-3">
        <span class="input-group-text" id="basic-addon1">First Name</span>
        <input type="text" class="form-control" name="firstName" aria-label="Username" aria-describedby="basic-addon1" value="<%= user.firstName %>" />
      </div>
      <div class="input-group col mb-3">
        <span class="input-group-text" id="basic-addon1">Last Name</span>
        <input type="text" class="form-control" name="lastName" aria-label="Username" aria-describedby="basic-addon1" value="<%= user.lastName %>" />
      </div>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email address</label>
      <input type="email" class="form-control" id="email" value="<%= user.email %>" required />
    </div>
    <label class="form-label">Languages you're interested in</label>
    <% languages.forEach(lang => { %>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="<%= lang %>" name="interest" id="<%= lang %>" <%= user.interest.includes(lang) ? "checked" : "" %>/>
      <label class="form-check-label" for="<%= lang %>"> <%= lang %> </label>
    </div>
    <% }) %> <% if(user.isATutor) { %>
      <h4 class="mt-3">Info as a tutor</h4>
    <div class="my-3">
      <label for="language" class="form-label">What language you want to teach? </label>
      <select class="form-select" aria-label="Default select example" name="language" id="language" is="language" required>
        <% languages.forEach(language => { %>
        <option value="<%= language %>" <%= user.tutor.language === language ? "selected" : ""  %>><%= language %></option>
        <% }) %>
      </select>
    </div>
    <div class="my-3">
      <label for="about" class="form-label">Profile</label>
      <textarea class="form-control" id="about" rows="4" placeholder="About yourself" name="about"><%= user.tutor.about %></textarea>
    </div>
    <div class="my-3">
      <label for="skills" class="form-label">Add relevant skills</label>
      <textarea class="form-control" id="skills" rows="4" placeholder="Your skills" name="skills"><%= user.tutor.skills %></textarea>
    </div>
    <div class="mb-3">
      <label for="formFile" class="form-label">Upload your photo</label>
      <input class="form-control" type="file" id="formFile" />
    </div>

    <% }%>
    <div class="d-flex justify-content-end">
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="/users" type="button" class="btn btn-warning">Cancel</a>
    </div>
  </form>
  
  <form action="/users?_method=DELETE" method="POST" class="mt-3">
    <button type="submit" class="btn btn-danger">Delete Account</button>
  </form>
</div>
